# 每日精选技术文档

## 1.界面结构拆分

### Hierarchy结构

总共分为两个场景，通过按钮点击使相关游戏对象隐藏或显示实现，

开始场景只有一个按钮，点击按钮隐藏自身，同时显示第二个场景中的head和scrollview 绑定的解析json脚本会解读json并为scrollview添加子对象

点击购买按钮会可以购买成功商品，并切换卡片样式。

### prefabs

总共有四个预制件，分别为加载scrollview中的商品的模版，分为金币/钻石模版，小兵卡片模版，未解锁模版 和 购买成功后的宝箱模版。

无相互包含关系，都彼此独立存在，购买成功后的模版最后被舍弃使用，融合到小兵卡片模版和金币钻石模版里面一起使用了

所有的预制件都是用在每日精选界面的购买动态菜单scrollview上面，通过json和购买状态切换为不同的预制件

## 代码结构

总共分为四个脚本：

LoginIn脚本绑定在开始界面的每日精选button上面，用于切换到每日精选界面

CreateCard脚本绑定在Scrollview上，用于加载商品的模型和往模型中放入从json中解读出来的数据信息。

Jsondata脚本不需要绑定，是专门用来解析json的脚本工具，并将解读出来的数据提供给别的脚本使用，此脚本将json解读为List<实体类>的形式。

changeCard脚本绑定在每一个商品的购买按钮上，当购买成功后执行隐藏或显示的gameobject的代码使其切换

## 流程图

```flow
st=>start: 开始按钮
op=>operation: 跳转场景
op1=>operation: 解析json
op2=>operation: 生成与json对应的商品卡片
sub1=>operation: 点击卡片即可购买商品，商品切换为购买后的状态
e=>end: 结束框

st->op->op1->op2->sub1->e
```

